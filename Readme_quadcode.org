#+STARTUP: showall
#+STARTUP: hidestars


workflow for running a quadrant analysis:

for any of the scripts  do

python script_name.py --help to get help


* 0) Run gm_numbers.py to produce paper_table.h5  with a dataframe called
      that looks like this:

        name         L0   Nperiod         N  fluxes  gammas
0   Mar12014  18.183713  0.922139  0.018074      60    10.0
1  Dec142013  23.475072  0.922139  0.018074     100    10.0
2   Mar52014  28.750974  0.922139  0.018074     150    10.0
3  Dec202013  30.581238  1.304101  0.012780      60     5.0
4  Nov302013  39.480208  1.304101  0.012780     100     5.0
6  Dec252013  51.431307  1.844278  0.009037      60     2.5

* 1) pick a non-dimensional target time  and get the timesteps closest
  to that target for each case using calc_index.py like this:

  python calc_index.py -i 'data/paper_table.h5' -t 300

  this produces index_list_time_nd_300.json  with entries that
  look like:

    "Dec142013": {
        "time_list": [
            1,
            600,
            28800
        ],
        "fluxes": 100,
        "L0": 23.47507229160549,
        "N": 0.01807392228230128,
        "Nperiod": 0.9221388919541469,
        "time_index": 27,
        "name": "Dec142013",
        "nd_time": 303.6418943426615,
        "gammas": 10.0
    },


* 2) Run Flux_Quads.py to get an hdf5 file with all ensembles for every case that
    has that time index:

    python Flux_Quads.py -j index_list_time_nd_300.json  -r may26_300

    produces the file:

    profiles_may26_300.h5

The file structure can be examined by doing:

    python h5dump.py profiles_may26_300.h5 

* 3) to do the quadrant conditional averages, run

   python quad_profiles.py -p profiles_may26_300.h5 -o flux_out_300.h5o

* 4) to make the plots, run

  python plot_h5profs.py -q flux_out_300.h5


python Flux_Quads.py -j index_list_time_nd_260.json  -r flux_quads_260


outfile contains wvelpert, thetaper, wvelthetapert for all ensembles

member of group:  /Dec142013/9 <HDF5 dataset "thetapert": shape (312, 128, 192), type "<f4">

and also 

member of group:  /Nov302013 <HDF5 dataset "ens_av_thetas": shape (312, 128, 192), type "<f4">

python quad_profiles.py -p profiles_flux_quads_260.h5 -o flux_out_260.h5

